test what happens if disconnected in nested transactions, repair the connection, etc
